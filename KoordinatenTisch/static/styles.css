body{font-family:system-ui,Segoe UI,Arial,sans-serif;margin:0;background:#f6f6f6;color:#111;height:100vh;overflow:hidden}
.container{max-width:none;width:100%;margin:0 auto;padding:10px;height:100%;display:flex;flex-direction:column;box-sizing:border-box;gap:10px}
.header{display:flex;align-items:center;justify-content:space-between;gap:16px}
.header h1{margin:0;font-size:20px}
.headerRight{display:flex;align-items:center;gap:10px}
.headerBar{background:#c1121f;color:#fff;border-radius:0;padding:10px 12px;border:1px solid #b30f1a}
.headerBar .status{color:rgba(255,255,255,0.92)}
.headerBar .iconBtn{border-color:rgba(255,255,255,0.65);color:#fff;background:transparent}
.headerBar .iconBtn:hover{background:rgba(255,255,255,0.08)}
.layout{display:flex;flex-direction:column;gap:10px;flex:1;min-height:0;overflow:hidden}
.topRow{display:flex;gap:10px;align-items:stretch;flex:1;min-height:0;overflow:hidden}
.bottomRow{display:flex;gap:10px;align-items:stretch;min-height:0;overflow:hidden}
.videoPanel{flex:1.4;min-width:520px}
.tablePanel{flex:1;min-width:420px}
.controlPanel{flex:1.6;min-width:520px}
.positionsPanel{flex:1;min-width:320px}
.panel{background:#fff;border:1px solid #ddd;border-radius:0;padding:10px;display:flex;flex-direction:column;min-height:0;overflow:hidden}
.panel h2{margin:0 0 10px 0;font-size:16px}
.videoWrap{width:100%;aspect-ratio:4/3;background:#000;border-radius:0;overflow:hidden;display:flex;align-items:center;justify-content:center;flex:1;min-height:0}
#video{width:100%;height:100%;object-fit:contain}
.controls{display:grid;grid-template-columns:260px 1fr;gap:12px;align-items:start}
.dpad{display:flex;flex-direction:column;gap:8px;align-items:center}
.dpad .row{display:flex;gap:8px}
.dpad .btn{min-width:56px;min-height:44px;display:inline-flex;align-items:center;justify-content:center}
.btn{padding:0 12px;border:1px solid #ccc;border-radius:0;background:#fff;cursor:pointer;user-select:none;min-height:44px;font-size:14px;line-height:1.1;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box}
.btn:disabled{opacity:0.55;cursor:not-allowed;transform:none}
.btn:active{transform:translateY(1px)}
.btn.primary{background:#c1121f;color:#fff;border-color:#c1121f}
.btn.danger{background:#c1121f;color:#fff;border-color:#c1121f}
.btn.primary:active,.btn.danger:active{transform:translateY(1px)}
.actions{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px}
.actions .btn,.actions .toggle{width:100%;justify-content:center}
.toggle{display:inline-flex;align-items:center;gap:8px;padding:0 12px;border:1px solid #ccc;border-radius:0;background:#fff;cursor:pointer;user-select:none;min-height:44px;font-size:14px;line-height:1.1;justify-content:center;box-sizing:border-box}
.toggle input{width:16px;height:16px;margin:0;accent-color:#c1121f}
.toggle input{cursor:pointer}
.status{font-size:14px;color:#333}
.metrics{display:grid;grid-template-columns:2fr 1fr 1fr 1fr;gap:6px 12px;align-items:stretch}
.metrics > .small{grid-column:1 / -1}
.small{font-size:12px;color:#444}
.list{margin:0;padding:0;max-height:none;overflow:auto;list-style-type:none;display:flex;flex-direction:column;gap:4px;flex:1;min-height:0}
.list li{padding:6px 8px;border-radius:6px;cursor:pointer}
.list.disabled li{pointer-events:none;opacity:0.7;cursor:default}
.list li.active{background:#eee}
.canvasWrap{flex:1;min-height:0;display:flex;align-items:center;justify-content:center}
#tableCanvas{max-width:100%;max-height:100%;width:auto;height:auto;border:1px solid #ddd;border-radius:0;background:#fafafa;flex:0 0 auto;min-height:0;display:block}

.iconBtn{width:36px;height:36px;display:inline-flex;align-items:center;justify-content:center;border:1px solid #c1121f;border-radius:0;background:#fff;color:#c1121f;cursor:pointer;user-select:none;font-size:16px;line-height:1}
.iconBtn:disabled{opacity:0.55;cursor:not-allowed;transform:none}
.iconBtn:active{transform:translateY(1px)}

.settings{display:flex;flex-direction:column;gap:10px;flex:1;min-height:0;overflow:auto}
.settingsHeader{display:flex;align-items:center;justify-content:space-between;gap:10px}
.settingsTitle{font-weight:600;font-size:13px;color:#222}
.settingsBody{border:1px solid #e2e2e2;border-radius:0;padding:8px;background:#fafafa;max-height:none;overflow:auto}
.sep{border:none;border-top:1px solid #e8e8e8;margin:2px 0}

.workAreaRow{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;margin-bottom:8px}
.workAreaField{display:flex;flex-direction:column;gap:6px}
.workAreaField input{padding:8px 10px;border:1px solid #cfcfcf;border-radius:0;background:#fff;font-size:13px;min-height:44px;box-sizing:border-box}

.featureList{display:flex;flex-direction:column;gap:8px}
.featureRow{background:#fff;border:1px solid #e2e2e2;border-radius:0;padding:8px}
.featureTop{display:flex;align-items:center;justify-content:space-between;gap:10px}
.featureName{font-weight:600;font-size:13px;color:#111;display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.featureMeta{display:flex;gap:6px;align-items:center;flex-wrap:wrap}
.featureCtl{margin-top:8px;display:flex;gap:8px;align-items:center}
.featureCtl input[type="text"],.featureCtl input[type="number"],.featureCtl select{padding:8px 10px;border:1px solid #cfcfcf;border-radius:0;background:#fff;font-size:13px}
.featureCtl input[type="number"]{width:140px}
.featureCtl input[type="range"]{flex:1}
.featureCtl .btn.mini{padding:8px 10px;font-size:13px}
.featureHint{margin-top:6px;font-size:12px;color:#444;line-height:1.25}
.statusTag{display:inline-block;padding:2px 8px;border:1px solid #d0d0d0;border-radius:0;background:#fff;font-size:12px;color:#444;line-height:1.4;white-space:nowrap}
.statusTag.ok{color:#111;font-weight:600;background:#fafafa}
.statusTag.err{color:#111;font-weight:600;background:#fafafa}

.kvList{display:flex;flex-direction:column;gap:8px}
.kvRow{background:#fff;border:1px solid #e2e2e2;border-radius:0;padding:8px}
.kvTop{display:flex;align-items:center;justify-content:space-between;gap:10px}
.kvKey{font-weight:600;font-size:13px;color:#111}
.kvDesc{margin-top:6px;font-size:12px;color:#444;line-height:1.25}
.kvCtl{margin-top:8px;display:flex;gap:8px;align-items:center}
.kvCtl input{flex:1;padding:8px 10px;border:1px solid #cfcfcf;border-radius:0;background:#fff;font-size:13px}
.kvCtl .btn.mini{padding:8px 10px;font-size:13px}

.pill{display:inline-block;padding:2px 6px;border:1px solid #d0d0d0;border-radius:0;font-size:11px;color:#333;background:#fff}

.modal{position:fixed;right:12px;top:60px;width:min(520px, calc(100vw - 24px));height:min(72vh, 720px);background:#fff;border:2px solid #c1121f;border-radius:0;box-shadow:0 12px 28px rgba(0,0,0,0.20);display:none;flex-direction:column;z-index:50}
.modal.open{display:flex}
.modalHeader{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:10px 10px;background:#c1121f;color:#fff;border-top-left-radius:0;border-top-right-radius:0;cursor:move;user-select:none}
.modalTitle{font-weight:700}
.modalHeaderActions{display:flex;gap:8px;align-items:center}
.modalHeader .iconBtn{border-color:rgba(255,255,255,0.65);color:#fff;background:transparent}
.modalBody{padding:10px;flex:1;min-height:0;overflow:auto}

/* Ensure Steuerung buttons look uniform */
.controlPanel .btn{min-height:44px}
.controlPanel .toggle{min-height:44px}
.dpad .btn{width:56px;height:44px;min-width:56px;padding:0}

@media (max-width: 1100px){
	body{overflow:auto;height:auto}
	.container{height:auto;min-height:100vh}
	.layout{overflow:visible}
	.topRow,.bottomRow{flex-direction:column;overflow:visible}
	.videoPanel,.tablePanel,.controlPanel,.positionsPanel{min-width:0}
	.settings{max-height:none;overflow:visible}
	.modal{right:10px;left:10px;width:auto}
	.controls{grid-template-columns:1fr}
	.actions{grid-template-columns:1fr}
	.metrics{grid-template-columns:1fr}
}

.positionsPanel .list{max-height:none;flex:1;min-height:0}
